services:
  backend:
    build: ./fastify-backend
    container_name: geoloom-backend
    restart: unless-stopped
    environment:
      POSTGRES_HOST: geoloom-db
      POSTGRES_PORT: 5432
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: geoloom2026
      POSTGRES_DATABASE: geoloom
      GLM_API_KEY: c017eaf825e445579f9e5bc302d69922.0OtFSVgO3Qrb6dLx
      LLM_BASE_URL: https://open.bigmodel.cn/api/paas/v4
    ports:
      - "3000:3000"
    networks:
      - geoloom-network

networks:
  geoloom-network:
    external: true
    name: geoloom-network
