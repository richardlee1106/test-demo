<mxfile host="app.diagrams.net" version="22.1.0">
  <diagram name="系统架构图" id="system-arch">
    <mxGraphModel dx="1200" dy="800" grid="1" guides="1" tooltips="1" connect="1" arrows="1" page="1" pageWidth="1100" pageHeight="700">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- 用户界面层 -->
        <mxCell id="L1" value="" style="rounded=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="40" y="20" width="1020" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="L1T" value="用户界面层 (Vue.js 3)" style="text;fontFamily=Microsoft YaHei;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="28" width="200" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="CP" value="ControlPanel&#xa;控制面板" style="rounded=1;fillColor=#fff;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="60" y="55" width="140" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="MC" value="MapContainer&#xa;地图容器" style="rounded=1;fillColor=#fff;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="230" y="55" width="320" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="TC" value="TagCloud&#xa;标签云容器" style="rounded=1;fillColor=#fff;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="580" y="55" width="460" height="60" as="geometry"/>
        </mxCell>
        
        <!-- 业务逻辑层 -->
        <mxCell id="L2" value="" style="rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="40" y="150" width="1020" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="L2T" value="业务逻辑层" style="text;fontFamily=Microsoft YaHei;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="158" width="100" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="OL" value="OpenLayers地图引擎&#xa;多边形绘制 | POI渲染 | 高亮交互" style="rounded=1;fillColor=#fff;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="60" y="185" width="300" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="D3" value="D3.js可视化引擎&#xa;数据绑定 | SVG渲染 | 缩放交互" style="rounded=1;fillColor=#fff;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="400" y="185" width="300" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="GT" value="GeoTIFF.js&#xa;栅格权重解析" style="rounded=1;fillColor=#fff;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="740" y="185" width="160" height="60" as="geometry"/>
        </mxCell>
        
        <!-- 布局计算层 -->
        <mxCell id="L3" value="" style="rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="40" y="280" width="1020" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="L3T" value="布局计算层 (Web Workers)" style="text;fontFamily=Microsoft YaHei;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="288" width="250" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="BW" value="basic.worker.js&#xa;动态重心引力算法 (DCGA)" style="rounded=1;fillColor=#fff;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="60" y="315" width="240" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="SW" value="spiral.worker.js&#xa;阿基米德螺旋算法" style="rounded=1;fillColor=#fff;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="340" y="315" width="220" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="GW" value="geo.worker.js&#xa;地理感知布局算法" style="rounded=1;fillColor=#fff;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="600" y="315" width="220" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="RB" value="RBush&#xa;空间索引" style="rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="315" width="100" height="60" as="geometry"/>
        </mxCell>
        
        <!-- 数据层 -->
        <mxCell id="L4" value="" style="rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;opacity=50;" vertex="1" parent="1">
          <mxGeometry x="40" y="410" width="1020" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="L4T" value="数据层" style="text;fontFamily=Microsoft YaHei;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="418" width="80" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="GJ" value="GeoJSON POI数据&#xa;武汉市14类, 83,583条" style="rounded=1;fillColor=#fff;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="60" y="445" width="400" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="TF" value="GeoTIFF栅格权重数据&#xa;可达性、人口密度等" style="rounded=1;fillColor=#fff;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="500" y="445" width="400" height="35" as="geometry"/>
        </mxCell>
        
        <!-- 层间箭头 -->
        <mxCell id="A1" style="endArrow=classic;startArrow=classic;strokeWidth=2;strokeColor=#666;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry"><mxPoint x="400" y="115" as="sourcePoint"/><mxPoint x="400" y="150" as="targetPoint"/></mxGeometry>
        </mxCell>
        <mxCell id="A2" style="endArrow=classic;startArrow=classic;strokeWidth=2;strokeColor=#666;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry"><mxPoint x="550" y="260" as="sourcePoint"/><mxPoint x="550" y="280" as="targetPoint"/></mxGeometry>
        </mxCell>
        <mxCell id="A3" style="endArrow=classic;startArrow=classic;strokeWidth=2;strokeColor=#666;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry"><mxPoint x="550" y="390" as="sourcePoint"/><mxPoint x="550" y="410" as="targetPoint"/></mxGeometry>
        </mxCell>
        
        <!-- 技术栈 -->
        <mxCell id="TS" value="技术栈: Vue.js 3 + Vite | OpenLayers 7 | D3.js 7 | RBush | GeoTIFF.js | Web Workers" style="text;align=center;fontFamily=Microsoft YaHei;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="40" y="500" width="1020" height="20" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
