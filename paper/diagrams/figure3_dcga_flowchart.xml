<mxfile host="app.diagrams.net" modified="2024-12-25T10:00:00.000Z" agent="Mozilla/5.0" version="22.1.0" etag="dcga_flowchart">
  <diagram name="DCGA算法流程图" id="dcga-flowchart">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- 输入标签数组 (起始框) -->
        <mxCell id="A" value="输入标签数组" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Microsoft YaHei;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="20" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 预处理：测量文本尺寸 -->
        <mxCell id="B" value="预处理：测量文本尺寸" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="100" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 按权重/大小降序排序 -->
        <mxCell id="C" value="按权重/大小降序排序" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="180" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 初始化空间索引树 (RBush) -->
        <mxCell id="D" value="初始化RBush空间索引树" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="260" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 初始化重心为画布中心 -->
        <mxCell id="E" value="初始化重心为画布中心&#xa;C₀ = (W/2, H/2)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="340" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 遍历每个标签 (菱形判断) -->
        <mxCell id="F" value="是否还有&#xa;未处理标签?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontFamily=Microsoft YaHei;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="350" y="420" width="130" height="80" as="geometry"/>
        </mxCell>
        
        <!-- 确定搜索起点为当前重心 -->
        <mxCell id="G" value="确定搜索起点&#xa;为当前重心 Cₙ" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="530" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 径向螺旋搜索 -->
        <mxCell id="H" value="从重心开始&#xa;径向螺旋搜索" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="610" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 找到无碰撞位置? (菱形判断) -->
        <mxCell id="I" value="找到&#xa;无碰撞位置?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontFamily=Microsoft YaHei;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="350" y="690" width="130" height="80" as="geometry"/>
        </mxCell>
        
        <!-- 放置标签 -->
        <mxCell id="J" value="放置标签&#xa;tag.x = x, tag.y = y" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="800" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 更新空间索引 -->
        <mxCell id="K" value="更新RBush索引&#xa;tree.insert(bbox)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="880" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 更新动态重心 -->
        <mxCell id="L" value="更新动态重心&#xa;Cₙ₊₁ = (Cₙ×n + P) / (n+1)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontFamily=Microsoft YaHei;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="340" y="960" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 标记放置失败 -->
        <mxCell id="M" value="标记放置失败&#xa;tag.placed = false" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Microsoft YaHei;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="550" y="710" width="140" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 输出布局结果 (结束框) -->
        <mxCell id="N" value="输出布局结果" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Microsoft YaHei;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="440" width="120" height="50" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 A->B -->
        <mxCell id="edge_ab" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="A" target="B">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 B->C -->
        <mxCell id="edge_bc" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="B" target="C">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 C->D -->
        <mxCell id="edge_cd" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="C" target="D">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 D->E -->
        <mxCell id="edge_de" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="D" target="E">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 E->F -->
        <mxCell id="edge_ef" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="E" target="F">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 F->G (是) -->
        <mxCell id="edge_fg" value="是" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Microsoft YaHei;fontSize=11;" edge="1" parent="1" source="F" target="G">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 G->H -->
        <mxCell id="edge_gh" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="G" target="H">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 H->I -->
        <mxCell id="edge_hi" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="H" target="I">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 I->J (是) -->
        <mxCell id="edge_ij" value="是" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Microsoft YaHei;fontSize=11;" edge="1" parent="1" source="I" target="J">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 J->K -->
        <mxCell id="edge_jk" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="J" target="K">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 K->L -->
        <mxCell id="edge_kl" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="K" target="L">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 L->F (循环返回) -->
        <mxCell id="edge_lf" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;" edge="1" parent="1" source="L" target="F">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="985"/>
              <mxPoint x="260" y="460"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- 连接线 I->M (否) -->
        <mxCell id="edge_im" value="否" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Microsoft YaHei;fontSize=11;" edge="1" parent="1" source="I" target="M">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 连接线 M->F (返回循环) -->
        <mxCell id="edge_mf" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;" edge="1" parent="1" source="M" target="F">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="620" y="620"/>
              <mxPoint x="700" y="620"/>
              <mxPoint x="700" y="460"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- 连接线 F->N (遍历完成) -->
        <mxCell id="edge_fn" value="否&#xa;(遍历完成)" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Microsoft YaHei;fontSize=11;" edge="1" parent="1" source="F" target="N">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- 图例框 -->
        <mxCell id="legend" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="20" width="200" height="180" as="geometry"/>
        </mxCell>
        
        <!-- 图例标题 -->
        <mxCell id="legend_title" value="图例" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Microsoft YaHei;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="25" width="60" height="20" as="geometry"/>
        </mxCell>
        
        <!-- 图例项1: 开始/结束 -->
        <mxCell id="legend1_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="45" y="55" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legend1_text" value="开始/结束/成功" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Microsoft YaHei;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="85" y="55" width="100" height="20" as="geometry"/>
        </mxCell>
        
        <!-- 图例项2: 处理步骤 -->
        <mxCell id="legend2_box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="45" y="85" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legend2_text" value="处理步骤" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Microsoft YaHei;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="85" y="85" width="100" height="20" as="geometry"/>
        </mxCell>
        
        <!-- 图例项3: 重心相关 -->
        <mxCell id="legend3_box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="45" y="115" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legend3_text" value="重心相关操作" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Microsoft YaHei;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="85" y="115" width="100" height="20" as="geometry"/>
        </mxCell>
        
        <!-- 图例项4: 判断 -->
        <mxCell id="legend4_box" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="45" y="145" width="30" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="legend4_text" value="条件判断" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Microsoft YaHei;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="85" y="145" width="100" height="20" as="geometry"/>
        </mxCell>
        
        <!-- 图例项5: 失败 -->
        <mxCell id="legend5_box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="45" y="175" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legend5_text" value="失败状态" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Microsoft YaHei;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="85" y="175" width="100" height="20" as="geometry"/>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
